{% extends "base.html" %}
{% block title %}Home{% endblock %}

{% block content %}
<!-- Navbar -->
<nav class="flex items-center justify-between px-6 py-4">
  <a href="/" class="text-2xl font-bold">
    <span class="text-indigo-400">Short</span>ify
  </a>

  <div class="flex items-center gap-6">
    <a href="{% url 'dashboard' %}" class="text-slate-300 hover:text-white transition">
      Dashboard
    </a>
    <a href="{% url 'profile' %}">
      <img src="{{request.user.additional.profile_pic.url}}"
           class="w-10 h-10 rounded-full border-2 border-indigo-500 hover:scale-105 transition">
    </a>
  </div>
</nav>

<!-- Main -->
<div class="flex flex-col items-center justify-center mt-28 px-4">

  <h1 class="text-4xl font-extrabold mb-3">Shorten Your Link ðŸ”—</h1>
  <p class="text-slate-400 mb-8 text-center max-w-xl">
    Paste your long URL and optionally create a custom alias.
  </p>

  <form method="POST" class="w-full max-w-2xl space-y-4">
    {% csrf_token %}

    <!-- URL input -->
    <div class="bg-slate-900/80 backdrop-blur rounded-2xl shadow-2xl overflow-hidden">
      <input
        type="url"
        name="long_url"
        required
        placeholder="https://example.com/very-long-link"
        class="w-full px-6 py-4 bg-transparent outline-none text-white placeholder-slate-500"
      >
    </div>

    <!-- Custom alias toggle -->
    <label class="flex items-center gap-3 text-slate-300 cursor-pointer">
      <input
        type="checkbox"
        id="customToggle"
        class="w-5 h-5 accent-indigo-600">
      Use custom URL
    </label>

    <!-- Alias input -->
    <div id="aliasBox"
         class="bg-slate-900/60 rounded-2xl px-6 py-4 opacity-50 pointer-events-none transition-all">
      <div class="flex items-center text-slate-400">
        <span class="mr-2">short.ly/</span>
        <input
          type="text"
          name="alias"
          placeholder="your-alias"
          class="bg-transparent outline-none text-white placeholder-slate-500 flex-1"
        >
      </div>
    </div>

    <!-- Submit -->
    <button
      type="submit"
      class="w-full py-4 bg-indigo-600 hover:bg-indigo-700 rounded-2xl font-semibold transition shadow-lg">
      Shorten URL
    </button>

  </form>
</div>

<!-- Minimal JS -->
<script>
  const toggle = document.getElementById("customToggle");
  const aliasBox = document.getElementById("aliasBox");

  toggle.addEventListener("change", () => {
    if (toggle.checked) {
      aliasBox.classList.remove("opacity-50", "pointer-events-none");
    } else {
      aliasBox.classList.add("opacity-50", "pointer-events-none");
    }
  });
</script>
{% endblock %}
