{% extends "base.html" %}
{% block title %}Profile{% endblock %}

{% block content %}
<nav class="flex items-center justify-between px-6 py-4">
  <a href="/" class="text-2xl font-bold">
    <span class="text-indigo-400">Short</span>ify
  </a>

  <a href="{% url 'dashboard' %}" class="text-slate-300 hover:text-white transition">
    Dashboard
  </a>
</nav>

<div class="max-w-3xl mx-auto px-4 mt-12">

  <h1 class="text-3xl font-bold mb-8">Profile Settings ðŸ‘¤</h1>

  <!-- Profile Form -->
  <form method="POST" enctype="multipart/form-data"
        class="bg-slate-900/80 backdrop-blur rounded-2xl shadow-2xl p-8 space-y-6">
    {% csrf_token %}

    <!-- Profile Picture -->
    <div class="flex items-center gap-6">
      <img
        src="{{ user.additional.profile_pic.url }}"
        class="w-24 h-24 rounded-full border-2 border-indigo-500 object-cover"
      >

      <div>
        <label class="block text-sm text-slate-400 mb-2">
          Change profile picture
        </label>
        <input
          type="file"
          name="profile_pic"
          accept="image/*"
          class="text-sm text-slate-300
                 file:bg-indigo-600 file:text-white
                 file:border-0 file:px-4 file:py-2
                 file:rounded-xl file:cursor-pointer
                 hover:file:bg-indigo-700 transition"
        >
      </div>
    </div>

    <!-- First Name -->
    <div>
      <label class="block text-sm text-slate-400 mb-1">First Name</label>
      <input type="text" name="first_name" value="{{ user.first_name }}"
             class="w-full px-4 py-3 rounded-xl bg-slate-800 focus:ring-2 focus:ring-indigo-500 outline-none">
    </div>

    <!-- Last Name -->
    <div>
      <label class="block text-sm text-slate-400 mb-1">Last Name</label>
      <input type="text" name="last_name" value="{{ user.last_name }}"
             class="w-full px-4 py-3 rounded-xl bg-slate-800 focus:ring-2 focus:ring-indigo-500 outline-none">
    </div>

    <!-- Email -->
    <div>
      <label class="block text-sm text-slate-400 mb-1">Email</label>
      <input type="email" name="email" value="{{ user.email }}"
             class="w-full px-4 py-3 rounded-xl bg-slate-800 focus:ring-2 focus:ring-indigo-500 outline-none">
    </div>

    <!-- Save -->
    <button
      type="submit"
      class="w-full py-3 rounded-xl bg-indigo-600 hover:bg-indigo-700 transition font-semibold shadow-lg">
      Save Changes
    </button>
  </form>

  <!-- Logout Section -->
  <form method="POST" action="{% url 'logout' %}" class="mt-6">
    {% csrf_token %}
    <button
      type="submit"
      class="w-full py-3 rounded-xl bg-red-600/20 text-red-400
             hover:bg-red-600 hover:text-white transition font-semibold">
      Logout
    </button>
  </form>

</div>
{% endblock %}
